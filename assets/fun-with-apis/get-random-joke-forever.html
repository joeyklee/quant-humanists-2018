<!DOCTYPE html>
<html>
<head>
	<title>#ChuckNorrisJokesForever</title>
	<!-- p5 -->
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/addons/p5.sound.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/addons/p5.dom.min.js"></script>

	<style type="text/css">
		html, body {
		  margin: 0;
		  padding: 0;
		}
		.container{
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			font-size: 24px;
			font-family: monospace;
		}

		#joke-box{
			width:50%;
			text-align: left;
		}

	</style>

</head>
<body>

	<div class="container">
		<h1>#ChuckNorrisJokesForever</h1>
		<div id="joke-box"></div>
	</div>


	<script type="text/javascript">
		// Our globals
		var jokeBox;
		function setup(){
			noCanvas();
			// get the cat image
			jokeBox = select("#joke-box");

			// call joke on page load
			getJoke();
			// set the page to load jokes ever 5 seconds
			setInterval(getJoke, 5000);
		}

		function draw(){
			noLoop();
		}

		/** 
		* Calls the joke api
		*
		* @function getJoke
		* @param {String} id of button
		*/
		function getJoke(){
			//  the joke URL
			var url = 'http://api.icndb.com/jokes/random?escape=javascript';

			httpGet(url, 'json', false, function(response) {
				console.log(response);
				var jokeParagraph = createP(response.joke);
				jokeBox.child(jokeParagraph);
			});
		}
	</script>
</body>
</html>

















































<!--
solution:
var jokeParagraph = createP(response.value.joke);
-->